(()=>{var yr=class{async get(t,n={}){let r=await fetch(t,{method:"GET",...n});return this.handleResponse(r)}async post(t,n,r,o){let i=await fetch(t,{method:"POST",headers:n,body:r,signal:o});return this.handleResponse(i)}async handleResponse(t){if(!t.ok){let n=t.statusText;try{n=(await t.json()).message||n}catch{}throw new Error(`HTTP ${t.status}: ${n}`)}try{return await t.json()}catch{throw new Error("Invalid JSON response")}}},Si=new yr;var g=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var S=globalThis;var Be="9.38.0";function ie(){return ut(S),S}function ut(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Be,t[Be]=t[Be]||{}}function pt(e,t,n=S){let r=n.__SENTRY__=n.__SENTRY__||{},o=r[Be]=r[Be]||{};return o[e]||(o[e]=t())}var br=["debug","info","warn","error","log","assert","trace"],sc="Sentry Logger ",vt={};function pe(e){if(!("console"in S))return e();let t=S.console,n={},r=Object.keys(vt);r.forEach(o=>{let i=vt[o];n[o]=t[o],t[o]=i});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function hi(){Ar().enabled=!0}function Ei(){Ar().enabled=!1}function Rr(){return Ar().enabled}function Ti(...e){dt("log",...e)}function ac(...e){dt("info",...e)}function Ii(...e){dt("warn",...e)}function yi(...e){dt("error",...e)}function cc(...e){dt("debug",...e)}function uc(...e){dt("assert",...e)}function pc(...e){dt("trace",...e)}function dt(e,...t){g&&Rr()&&pe(()=>{S.console[e](`${sc}[${e}]:`,...t)})}function Ar(){return g?pt("loggerSettings",()=>({enabled:!1})):{enabled:!1}}var O={enable:hi,disable:Ei,isEnabled:Rr,log:Ti,info:ac,warn:Ii,error:yi,debug:cc,assert:uc,trace:pc},l={enable:hi,disable:Ei,isEnabled:Rr,log:Ti,warn:Ii,error:yi};var Ne="?",bi=/\(error: (.*)\)/,Ri=/captureMessage|captureException/;function En(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,o=0)=>{let i=[],s=n.split(`
`);for(let a=r;a<s.length;a++){let c=s[a];if(c.length>1024)continue;let u=bi.test(c)?c.replace(bi,"$1"):c;if(!u.match(/\S*Error: /)){for(let p of t){let d=p(u);if(d){i.push(d);break}}if(i.length>=50+o)break}}return Ai(i.slice(o))}}function Nr(e){return Array.isArray(e)?En(...e):e}function Ai(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(hn(t).function||"")&&t.pop(),t.reverse(),Ri.test(hn(t).function||"")&&(t.pop(),Ri.test(hn(t).function||"")&&t.pop()),t.slice(0,50).map(n=>({...n,filename:n.filename||hn(t).filename,function:n.function||Ne}))}function hn(e){return e[e.length-1]||{}}var vr="<anonymous>";function te(e){try{return!e||typeof e!="function"?vr:e.name||vr}catch{return vr}}function Tn(e){let t=e.exception;if(t){let n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}var In={},vi={};function K(e,t){In[e]=In[e]||[],In[e].push(t)}function X(e,t){if(!vi[e]){vi[e]=!0;try{t()}catch(n){g&&l.error(`Error while instrumenting ${e}`,n)}}}function D(e,t){let n=e&&In[e];if(n)for(let r of n)try{r(t)}catch(o){g&&l.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${te(r)}
Error:`,o)}}var xr=null;function Gt(e){let t="error";K(t,e),X(t,dc)}function dc(){xr=S.onerror,S.onerror=function(e,t,n,r,o){return D("error",{column:r,error:o,line:n,msg:e,url:t}),xr?xr.apply(this,arguments):!1},S.onerror.__SENTRY_INSTRUMENTED__=!0}var Cr=null;function Wt(e){let t="unhandledrejection";K(t,e),X(t,fc)}function fc(){Cr=S.onunhandledrejection,S.onunhandledrejection=function(e){return D("unhandledrejection",e),Cr?Cr.apply(this,arguments):!0},S.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var Ni=Object.prototype.toString;function ft(e){switch(Ni.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return se(e,Error)}}function Nt(e,t){return Ni.call(e)===`[object ${t}]`}function yn(e){return Nt(e,"ErrorEvent")}function bn(e){return Nt(e,"DOMError")}function Or(e){return Nt(e,"DOMException")}function Z(e){return Nt(e,"String")}function xt(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function xe(e){return e===null||xt(e)||typeof e!="object"&&typeof e!="function"}function He(e){return Nt(e,"Object")}function mt(e){return typeof Event<"u"&&se(e,Event)}function Lr(e){return typeof Element<"u"&&se(e,Element)}function Pr(e){return Nt(e,"RegExp")}function Te(e){return!!(e?.then&&typeof e.then=="function")}function wr(e){return He(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function se(e,t){try{return e instanceof t}catch{return!1}}function jt(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Rn(e){return typeof Request<"u"&&se(e,Request)}var kr=S,mc=80;function Y(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,o=[],i=0,s=0,a=" > ",c=a.length,u,p=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||mc;for(;n&&i++<r&&(u=lc(n,p),!(u==="html"||i>1&&s+o.length*c+u.length>=d));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function lc(e,t){let n=e,r=[];if(!n?.tagName)return"";if(kr.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let o=t?.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(o?.length)o.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let s=n.className;if(s&&Z(s)){let a=s.split(/\s+/);for(let c of a)r.push(`.${c}`)}}let i=["aria-label","type","name","title","alt"];for(let s of i){let a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}function Ie(){try{return kr.document.location.href}catch{return""}}function Yt(e){if(!kr.HTMLElement)return null;let t=e,n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Xe(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function An(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let o=e[r];try{jt(o)?n.push("[VueViewModel]"):n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function xi(e,t,n=!1){return Z(e)?Pr(t)?t.test(e):Z(t)?n?e===t:e.includes(t):!1:!1}function de(e,t=[],n=!1){return t.some(r=>xi(e,r,n))}function U(e,t,n){if(!(t in e))return;let r=e[t];if(typeof r!="function")return;let o=n(r);typeof o=="function"&&vn(o,r);try{e[t]=o}catch{g&&l.log(`Failed to replace method "${t}" in object`,e)}}function k(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{g&&l.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function vn(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,k(e,"__sentry_original__",t)}catch{}}function lt(e){return e.__sentry_original__}function Nn(e){if(ft(e))return{message:e.message,name:e.name,stack:e.stack,...Oi(e)};if(mt(e)){let t={type:e.type,target:Ci(e.target),currentTarget:Ci(e.currentTarget),...Oi(e)};return typeof CustomEvent<"u"&&se(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Ci(e){try{return Lr(e)?Y(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Oi(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Mr(e,t=40){let n=Object.keys(Nn(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Xe(r,t);for(let o=n.length;o>0;o--){let i=n.slice(0,o).join(", ");if(!(i.length>t))return o===n.length?i:Xe(i,t)}return""}function gc(){let e=S;return e.crypto||e.msCrypto}function F(e=gc()){let t=()=>Math.random()*16;try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function Li(e){return e.exception?.values?.[0]}function Ce(e){let{message:t,event_id:n}=e;if(t)return t;let r=Li(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Ct(e,t,n){let r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function Oe(e,t){let n=Li(e);if(!n)return;let r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism={...r,...o,...t},t&&"data"in t){let i={...o?.data,...t.data};n.mechanism.data=i}}function xn(e){if(_c(e))return!0;try{k(e,"__sentry_captured__",!0)}catch{}return!1}function _c(e){try{return e.__sentry_captured__}catch{}}var wi=1e3;function ae(){return Date.now()/wi}function Sc(){let{performance:e}=S;if(!e?.now||!e.timeOrigin)return ae;let t=e.timeOrigin;return()=>(t+e.now())/wi}var Pi;function L(){return(Pi??(Pi=Sc()))()}var Dr;function hc(){let{performance:e}=S;if(!e?.now)return[void 0,"none"];let t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,s=e.timing?.navigationStart,c=typeof s=="number"?Math.abs(s+n-r):t,u=c<t;return i||u?o<=c?[e.timeOrigin,"timeOrigin"]:[s,"navigationStart"]:[r,"dateNow"]}function M(){return Dr||(Dr=hc()),Dr[0]}function ki(e){let t=L(),n={sid:F(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Ec(n)};return e&&$e(n,e),n}function $e(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||L(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:F()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Mi(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),$e(e,n)}function Ec(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function Ze(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;let r={...e};for(let o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=Ze(r[o],t[o],n-1));return r}function ne(){return F()}function ye(){return F().substring(16)}var Ur="_sentrySpan";function Ge(e,t){t?k(e,Ur,t):delete e[Ur]}function gt(e){return e[Ur]}var Tc=100,ce=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ne(),sampleRand:Math.random()}}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Ge(t,gt(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&$e(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t,r=n instanceof e?n.getScopeData():He(n)?t:void 0,{tags:o,extra:i,user:s,contexts:a,level:c,fingerprint:u=[],propagationContext:p}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...i},this._contexts={...this._contexts,...a},s&&Object.keys(s).length&&(this._user=s),c&&(this._level=c),u.length&&(this._fingerprint=u),p&&(this._propagationContext=p),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Ge(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ne(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){let r=typeof n=="number"?n:Tc;if(r<=0)return this;let o={timestamp:ae(),...t,message:t.message?Xe(t.message,2048):t.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:gt(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Ze(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=n?.event_id||F();if(!this._client)return g&&l.warn("No client configured on scope - will not capture exception!"),r;let o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureMessage(t,n,r){let o=r?.event_id||F();if(!this._client)return g&&l.warn("No client configured on scope - will not capture message!"),o;let i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:o},this),o}captureEvent(t,n){let r=n?.event_id||F();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(g&&l.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function Di(){return pt("defaultCurrentScope",()=>new ce)}function Ui(){return pt("defaultIsolationScope",()=>new ce)}var Fr=class{constructor(t,n){let r;t?r=t:r=new ce;let o;n?o=n:o=new ce,this._stack=[{scope:r}],this._isolationScope=o}withScope(t){let n=this._pushScope(),r;try{r=t(n)}catch(o){throw this._popScope(),o}return Te(r)?r.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function Ot(){let e=ie(),t=ut(e);return t.stack=t.stack||new Fr(Di(),Ui())}function Ic(e){return Ot().withScope(e)}function yc(e,t){let n=Ot();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Fi(e){return Ot().withScope(()=>e(Ot().getIsolationScope()))}function Bi(){return{withIsolationScope:Fi,withScope:Ic,withSetScope:yc,withSetIsolationScope:(e,t)=>Fi(t),getCurrentScope:()=>Ot().getScope(),getIsolationScope:()=>Ot().getIsolationScope()}}function Le(e){let t=ut(e);return t.acs?t.acs:Bi()}function I(){let e=ie();return Le(e).getCurrentScope()}function ue(){let e=ie();return Le(e).getIsolationScope()}function Br(){return pt("globalScope",()=>new ce)}function Qe(...e){let t=ie(),n=Le(t);if(e.length===2){let[r,o]=e;return r?n.withSetScope(r,o):n.withScope(o)}return n.withScope(e[0])}function E(){return I().getClient()}function Hr(e){let t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:o}=t,i={trace_id:n,span_id:o||ye()};return r&&(i.parent_span_id=r),i}var q="sentry.source",_t="sentry.sample_rate",qt="sentry.previous_trace_sample_rate",W="sentry.op",R="sentry.origin",St="sentry.idle_span_finish_reason",Pe="sentry.measurement_unit",we="sentry.measurement_value",Vt="sentry.custom_span_name",Lt="sentry.profile_id",fe="sentry.exclusive_time";var $r="sentry.link.type";function Hi(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function zt(e,t){e.setAttribute("http.response.status_code",t);let n=Hi(t);n.message!=="unknown_error"&&e.setStatus(n)}var $i="_sentryScope",Gi="_sentryIsolationScope";function Wi(e,t,n){e&&(k(e,Gi,n),k(e,$i,t))}function ht(e){return{scope:e[$i],isolationScope:e[Gi]}}var Cn="sentry-",bc=/^sentry-/,Rc=8192;function On(e){let t=Ac(e);if(!t)return;let n=Object.entries(t).reduce((r,[o,i])=>{if(o.match(bc)){let s=o.slice(Cn.length);r[s]=i}return r},{});if(Object.keys(n).length>0)return n}function Gr(e){if(!e)return;let t=Object.entries(e).reduce((n,[r,o])=>(o&&(n[`${Cn}${r}`]=o),n),{});return vc(t)}function Ac(e){if(!(!e||!Z(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{let r=ji(n);return Object.entries(r).forEach(([o,i])=>{t[o]=i}),t},{}):ji(e)}function ji(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function vc(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],o)=>{let i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=o===0?i:`${t},${i}`;return s.length>Rc?(g&&l.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}function We(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}var Ln=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Yi(e){if(!e)return;let t=e.match(Ln);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Wr(e,t){let n=Yi(e),r=On(t);if(!n?.traceId)return{traceId:ne(),sampleRand:Math.random()};let o=Nc(n,r);r&&(r.sample_rand=o.toString());let{traceId:i,parentSpanId:s,parentSampled:a}=n;return{traceId:i,parentSpanId:s,sampled:a,dsc:r||{},sampleRand:o}}function Jt(e=ne(),t=ye(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Nc(e,t){let n=We(t?.sample_rand);if(n!==void 0)return n;let r=We(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}var Pn=0,wn=1,qi=!1;function zi(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:s,origin:a,links:c}=h(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:o,status:s,origin:a,links:c}}function kn(e){let{spanId:t,traceId:n,isRemote:r}=e.spanContext(),o=r?t:h(e).parent_span_id,i=ht(e).scope,s=r?i?.getPropagationContext().propagationSpanId||ye():t;return{parent_span_id:o,span_id:s,trace_id:n}}function Yr(e){let{traceId:t,spanId:n}=e.spanContext(),r=me(e);return Jt(t,n,r)}function Mn(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...o},attributes:i})=>({span_id:t,trace_id:n,sampled:r===wn,attributes:i,...o}))}function be(e){return typeof e=="number"?Vi(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Vi(e.getTime()):L()}function Vi(e){return e>9999999999?e/1e3:e}function h(e){if(Lc(e))return e.getSpanJSON();let{spanId:t,traceId:n}=e.spanContext();if(Oc(e)){let{attributes:r,startTime:o,name:i,endTime:s,status:a,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:i,parent_span_id:u,start_timestamp:be(o),timestamp:be(s)||void 0,status:Dn(a),op:r[W],origin:r[R],links:Mn(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Oc(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Lc(e){return typeof e.getSpanJSON=="function"}function me(e){let{traceFlags:t}=e.spanContext();return t===wn}function Dn(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var Et="_sentryChildSpans",jr="_sentryRootSpan";function Un(e,t){let n=e[jr]||e;k(t,jr,n),e[Et]?e[Et].add(t):k(e,Et,new Set([t]))}function Ji(e,t){e[Et]&&e[Et].delete(t)}function Tt(e){let t=new Set;function n(r){if(!t.has(r)&&me(r)){t.add(r);let o=r[Et]?Array.from(r[Et]):[];for(let i of o)n(i)}}return n(e),Array.from(t)}function N(e){return e[jr]||e}function C(){let e=ie(),t=Le(e);return t.getActiveSpan?t.getActiveSpan():gt(I())}function Kt(){qi||(pe(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),qi=!0)}var Ki=!1;function Vr(){Ki||(Ki=!0,Gt(qr),Wt(qr))}function qr(){let e=C(),t=e&&N(e);if(t){let n="internal_error";g&&l.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:2,message:n})}}qr.tag="sentry_tracingErrorCallback";function Q(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=e||E()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}var Pt="production";var Pc=/^o(\d+)\./,wc=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function kc(e){return e==="http"||e==="https"}function je(e,t=!1){let{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function Mc(e){let t=wc.exec(e);if(!t){pe(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,o="",i="",s="",a=""]=t.slice(1),c="",u=a,p=u.split("/");if(p.length>1&&(c=p.slice(0,-1).join("/"),u=p.pop()),u){let d=u.match(/^\d+/);d&&(u=d[0])}return Xi({host:i,pass:o,path:c,projectId:u,port:s,protocol:n,publicKey:r})}function Xi(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Dc(e){if(!g)return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(s=>e[s]?!1:(l.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?kc(r)?t&&isNaN(parseInt(t,10))?(l.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(l.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(l.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Zi(e){return e.match(Pc)?.[1]}function Qi(e){let t=typeof e=="string"?Mc(e):Xi(e);if(!(!t||!Dc(t)))return t}var es="_frozenDsc";function wt(e,t){k(e,es,t)}function zr(e,t){let n=t.getOptions(),{publicKey:r,host:o}=t.getDsn()||{},i;n.orgId?i=String(n.orgId):o&&(i=Zi(o));let s={environment:n.environment||Pt,release:n.release,public_key:r,trace_id:e,org_id:i};return t.emit("createDsc",s),s}function Xt(e,t){let n=t.getPropagationContext();return n.dsc||zr(n.traceId,e)}function V(e){let t=E();if(!t)return{};let n=N(e),r=h(n),o=r.data,i=n.spanContext().traceState,s=i?.get("sentry.sample_rate")??o[_t]??o[qt];function a(T){return(typeof s=="number"||typeof s=="string")&&(T.sample_rate=`${s}`),T}let c=n[es];if(c)return a(c);let u=i?.get("sentry.dsc"),p=u&&On(u);if(p)return a(p);let d=zr(e.spanContext().traceId,t),f=o[q],m=r.description;return f!=="url"&&m&&(d.transaction=m),Q()&&(d.sampled=String(me(n)),d.sample_rand=i?.get("sentry.sample_rand")??ht(n).scope?.getPropagationContext().sampleRand.toString()),a(d),t.emit("createDsc",d,n),d}var ee=class{constructor(t={}){this._traceId=t.traceId||ne(),this._spanId=t.spanId||ye()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Pn}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}};function ts(e,t,n=()=>{}){let r;try{r=e()}catch(o){throw t(o),n(),o}return Uc(r,t,n)}function Uc(e,t,n){return Te(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function ns(e){if(!g)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=h(e),{spanId:o}=e.spanContext(),i=me(e),s=N(e),a=s===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${o}`];if(r&&u.push(`parent ID: ${r}`),!a){let{op:p,description:d}=h(s);u.push(`root ID: ${s.spanContext().spanId}`),p&&u.push(`root op: ${p}`),d&&u.push(`root description: ${d}`)}l.log(`${c}
  ${u.join(`
  `)}`)}function rs(e){if(!g)return;let{description:t="< unknown name >",op:n="< unknown op >"}=h(e),{spanId:r}=e.spanContext(),i=N(e)===e,s=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;l.log(s)}function os(e,t,n){if(!Q(e))return[!1];let r,o;typeof e.tracesSampler=="function"?(o=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?o=t.parentSampled:typeof e.tracesSampleRate<"u"&&(o=e.tracesSampleRate,r=!0);let i=We(o);if(i===void 0)return g&&l.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),[!1];if(!i)return g&&l.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];let s=n<i;return s||g&&l.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),[s,i,r]}function le(e,t=100,n=1/0){try{return Jr("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Fn(e,t=3,n=100*1024){let r=le(e,t);return $c(r)>n?Fn(e,t-1,n):r}function Jr(e,t,n=1/0,r=1/0,o=Gc()){let[i,s]=o;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;let a=Fc(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let m=u.toJSON();return Jr("",m,c-1,r,o)}catch{}let p=Array.isArray(t)?[]:{},d=0,f=Nn(t);for(let m in f){if(!Object.prototype.hasOwnProperty.call(f,m))continue;if(d>=r){p[m]="[MaxProperties ~]";break}let T=f[m];p[m]=Jr(m,T,c-1,r,o),d++}return s(t),p}function Fc(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(jt(t))return"[VueViewModel]";if(wr(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${te(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=Bc(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Bc(e){let t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function Hc(e){return~-encodeURI(e).split(/%..|./).length}function $c(e){return Hc(JSON.stringify(e))}function Gc(){let e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function ke(e,t=[]){return[e,t]}function is(e,t){let[n,r]=e;return[n,[...r,t]]}function Xr(e,t){let n=e[1];for(let r of n){let o=r[0].type;if(t(r,o))return!0}return!1}function Kr(e){let t=ut(S);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function ss(e){let[t,n]=e,r=JSON.stringify(t);function o(i){typeof r=="string"?r=typeof i=="string"?r+i:[Kr(r),i]:r.push(typeof i=="string"?Kr(i):i)}for(let i of n){let[s,a]=i;if(o(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)o(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(le(a))}o(c)}}return typeof r=="string"?r:Wc(r)}function Wc(e){let t=e.reduce((o,i)=>o+i.length,0),n=new Uint8Array(t),r=0;for(let o of e)n.set(o,r),r+=o.length;return n}function as(e){return[{type:"span"},e]}function cs(e){let t=typeof e.data=="string"?Kr(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}var jc={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Zr(e){return jc[e]}function Qr(e){if(!e?.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function us(e,t,n,r){let o=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:je(r)},...o&&{trace:o}}}function Yc(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function ps(e,t,n,r){let o=Qr(n),i={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:je(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return ke(i,[s])}function ds(e,t,n,r){let o=Qr(n),i=e.type&&e.type!=="replay_event"?e.type:"event";Yc(e,n?.sdk);let s=us(e,o,r,t);return delete e.sdkProcessingMetadata,ke(s,[[{type:i},e]])}function fs(e,t){function n(p){return!!p.trace_id&&!!p.public_key}let r=V(e[0]),o=t?.getDsn(),i=t?.getOptions().tunnel,s={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&o&&{dsn:je(o)}},a=t?.getOptions().beforeSendSpan,c=a?p=>{let d=h(p),f=a(d);return f||(Kt(),d)}:h,u=[];for(let p of e){let d=c(p);d&&u.push(as(d))}return ke(s,u)}function eo(e,t,n,r=C()){let o=r&&N(r);o&&(g&&l.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),o.addEvent(e,{[we]:t,[Pe]:n}))}function Bn(e){if(!e||e.length===0)return;let t={};return e.forEach(n=>{let r=n.attributes||{},o=r[Pe],i=r[we];typeof o=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:o})}),t}var ms=1e3,kt=class{constructor(t={}){this._traceId=t.traceId||ne(),this._spanId=t.spanId||ye(),this._startTime=t.startTimestamp||L(),this._links=t.links,this._attributes={},this.setAttributes({[R]:"manual",[W]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){let{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?wn:Pn}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=be(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(q,"custom"),this}end(t){this._endTime||(this._endTime=be(t),rs(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[W],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Dn(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[R],profile_id:this._attributes[Lt],exclusive_time:this._attributes[fe],measurements:Bn(this._events),is_segment:this._isStandaloneSpan&&N(this)===this||void 0,segment_id:this._isStandaloneSpan?N(this).spanContext().spanId:void 0,links:Mn(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){g&&l.log("[Tracing] Adding an event to span:",t);let o=ls(n)?n:r||L(),i=ls(n)?{}:n||{},s={name:t,time:be(o),attributes:i};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let t=E();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===N(this)))return;if(this._isStandaloneSpan){this._sampled?Vc(fs([this],t)):(g&&l.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}let r=this._convertSpanToTransaction();r&&(ht(this).scope||I()).captureEvent(r)}_convertSpanToTransaction(){if(!gs(h(this)))return;this._name||(g&&l.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:t,isolationScope:n}=ht(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;let i=Tt(this).filter(p=>p!==this&&!qc(p)).map(p=>h(p)).filter(gs),s=this._attributes[q];delete this._attributes[Vt],i.forEach(p=>{delete p.data[Vt]});let a={contexts:{trace:zi(this)},spans:i.length>ms?i.sort((p,d)=>p.start_timestamp-d.start_timestamp).slice(0,ms):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:V(this)},request:r,...s&&{transaction_info:{source:s}}},c=Bn(this._events);return c&&Object.keys(c).length&&(g&&l.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}};function ls(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function gs(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function qc(e){return e instanceof kt&&e.isStandaloneSpan()}function Vc(e){let t=E();if(!t)return;let n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}var Ss="__SENTRY_SUPPRESS_TRACING__";function to(e,t){let n=no();if(n.startSpan)return n.startSpan(e,t);let r=Es(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return Qe(a,()=>Jc(i)(()=>{let u=I(),p=Ts(u,i),f=e.onlyIfParent&&!p?new ee:hs({parentSpan:p,spanArguments:r,forceTransaction:o,scope:u});return Ge(u,f),ts(()=>t(f),()=>{let{status:m}=h(f);f.isRecording()&&(!m||m==="ok")&&f.setStatus({code:2,message:"internal_error"})},()=>{f.end()})}))}function ge(e){let t=no();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=Es(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?s=>Qe(e.scope,s):o!==void 0?s=>Zt(o,s):s=>s())(()=>{let s=I(),a=Ts(s,o);return e.onlyIfParent&&!a?new ee:hs({parentSpan:a,spanArguments:n,forceTransaction:r,scope:s})})}function Zt(e,t){let n=no();return n.withActiveSpan?n.withActiveSpan(e,t):Qe(r=>(Ge(r,e||void 0),t(r)))}function hs({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Q()){let s=new ee;if(n||!e){let a={sampled:"false",sample_rate:"0",transaction:t.name,...V(s)};wt(s,a)}return s}let o=ue(),i;if(e&&!n)i=zc(e,r,t),Un(e,i);else if(e){let s=V(e),{traceId:a,spanId:c}=e.spanContext(),u=me(e);i=_s({traceId:a,parentSpanId:c,...t},r,u),wt(i,s)}else{let{traceId:s,dsc:a,parentSpanId:c,sampled:u}={...o.getPropagationContext(),...r.getPropagationContext()};i=_s({traceId:s,parentSpanId:c,...t},r,u),a&&wt(i,a)}return ns(i),Wi(i,r,o),i}function Es(e){let n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let r={...n};return r.startTimestamp=be(e.startTime),delete r.startTime,r}return n}function no(){let e=ie();return Le(e)}function _s(e,t,n){let r=E(),o=r?.getOptions()||{},{name:i=""}=e,s={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r?.emit("beforeSampling",s,{decision:!1});let a=s.parentSampled??n,c=s.spanAttributes,u=t.getPropagationContext(),[p,d,f]=t.getScopeData().sdkProcessingMetadata[Ss]?[!1]:os(o,{name:i,parentSampled:a,attributes:c,parentSampleRate:We(u.dsc?.sample_rate)},u.sampleRand),m=new kt({...e,attributes:{[q]:"custom",[_t]:d!==void 0&&f?d:void 0,...c},sampled:p});return!p&&r&&(g&&l.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",m),m}function zc(e,t,n){let{spanId:r,traceId:o}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[Ss]?!1:me(e),s=i?new kt({...n,parentSpanId:r,traceId:o,sampled:i}):new ee({traceId:o});Un(e,s);let a=E();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}function Ts(e,t){if(t)return t;if(t===null)return;let n=gt(e);if(!n)return;let r=E();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?N(n):n}function Jc(e){return e!==void 0?t=>Zt(e,t):t=>t()}var Mt={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Kc="heartbeatFailed",Xc="idleTimeout",Zc="finalTimeout",Qc="externalFinish";function Hn(e,t={}){let n=new Map,r=!1,o,i=Qc,s=!t.disableAutoFinish,a=[],{idleTimeout:c=Mt.idleTimeout,finalTimeout:u=Mt.finalTimeout,childSpanTimeout:p=Mt.childSpanTimeout,beforeSpanEnd:d}=t,f=E();if(!f||!Q()){let v=new ee,z={sample_rate:"0",sampled:"false",...V(v)};return wt(v,z),v}let m=I(),T=C(),b=eu(e);b.end=new Proxy(b.end,{apply(v,z,Rt){if(d&&d(b),z instanceof ee)return;let[Bt,...At]=Rt,at=Bt||L(),H=be(at),ct=Tt(b).filter(G=>G!==b);if(!ct.length)return Sn(H),Reflect.apply(v,z,[H,...At]);let ze=ct.map(G=>h(G).timestamp).filter(G=>!!G),P=ze.length?Math.max(...ze):void 0,$=h(b).start_timestamp,x=Math.min($?$+u/1e3:1/0,Math.max($||-1/0,Math.min(H,P||1/0)));return Sn(x),Reflect.apply(v,z,[x,...At])}});function w(){o&&(clearTimeout(o),o=void 0)}function Fe(v){w(),o=setTimeout(()=>{!r&&n.size===0&&s&&(i=Xc,b.end(v))},c)}function st(v){o=setTimeout(()=>{!r&&s&&(i=Kc,b.end(v))},p)}function Tr(v){w(),n.set(v,!0);let z=L();st(z+p/1e3)}function Ir(v){if(n.has(v)&&n.delete(v),n.size===0){let z=L();Fe(z+c/1e3)}}function Sn(v){r=!0,n.clear(),a.forEach(H=>H()),Ge(m,T);let z=h(b),{start_timestamp:Rt}=z;if(!Rt)return;z.data[St]||b.setAttribute(St,i),l.log(`[Tracing] Idle span "${z.op}" finished`);let At=Tt(b).filter(H=>H!==b),at=0;At.forEach(H=>{H.isRecording()&&(H.setStatus({code:2,message:"cancelled"}),H.end(v),g&&l.log("[Tracing] Cancelling span since span ended early",JSON.stringify(H,void 0,2)));let ct=h(H),{timestamp:ze=0,start_timestamp:P=0}=ct,$=P<=v,x=(u+c)/1e3,G=ze-P<=x;if(g){let J=JSON.stringify(H,void 0,2);$?G||l.log("[Tracing] Discarding span since it finished after idle span final timeout",J):l.log("[Tracing] Discarding span since it happened after idle span was finished",J)}(!G||!$)&&(Ji(b,H),at++)}),at>0&&b.setAttribute("sentry.idle_span_discarded_spans",at)}return a.push(f.on("spanStart",v=>{if(r||v===b||h(v).timestamp)return;Tt(b).includes(v)&&Tr(v.spanContext().spanId)})),a.push(f.on("spanEnd",v=>{r||Ir(v.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",v=>{v===b&&(s=!0,Fe(),n.size&&st())})),t.disableAutoFinish||Fe(),setTimeout(()=>{r||(b.setStatus({code:2,message:"deadline_exceeded"}),i=Zc,b.end())},u),b}function eu(e){let t=ge(e);return Ge(I(),t),g&&l.log("[Tracing] Started span is an idle span"),t}var ro=0,Is=1,ys=2;function _e(e){return new Re(t=>{t(e)})}function tt(e){return new Re((t,n)=>{n(e)})}var Re=class e{constructor(t){this._state=ro,this._handlers=[],this._runExecutor(t)}then(t,n){return new e((r,o)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(s){o(s)}},i=>{if(!n)o(i);else try{r(n(i))}catch(s){o(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new e((n,r)=>{let o,i;return this.then(s=>{i=!1,o=s,t&&t()},s=>{i=!0,o=s,t&&t()}).then(()=>{if(i){r(o);return}n(o)})})}_executeHandlers(){if(this._state===ro)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Is&&n[1](this._value),this._state===ys&&n[2](this._value),n[0]=!0)})}_runExecutor(t){let n=(i,s)=>{if(this._state===ro){if(Te(s)){s.then(r,o);return}this._state=i,this._value=s,this._executeHandlers()}},r=i=>{n(Is,i)},o=i=>{n(ys,i)};try{t(r,o)}catch(i){o(i)}}};function $n(e,t,n,r=0){return new Re((o,i)=>{let s=e[r];if(t===null||typeof s!="function")o(t);else{let a=s({...t},n);g&&s.id&&a===null&&l.log(`Event processor "${s.id}" dropped event`),Te(a)?a.then(c=>$n(e,c,n,r+1).then(o)).then(null,i):$n(e,a,n,r+1).then(o).then(null,i)}})}function bs(e,t){let{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;tu(e,t),r&&ou(e,r),iu(e,n),nu(e,o),ru(e,i)}function oo(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:p,attachments:d,propagationContext:f,transactionName:m,span:T}=t;Gn(e,"extra",n),Gn(e,"tags",r),Gn(e,"user",o),Gn(e,"contexts",i),e.sdkProcessingMetadata=Ze(e.sdkProcessingMetadata,a,2),s&&(e.level=s),m&&(e.transactionName=m),T&&(e.span=T),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),p.length&&(e.eventProcessors=[...e.eventProcessors,...p]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...f}}function Gn(e,t,n){e[t]=Ze(e[t],n,1)}function tu(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(o).length&&(e.user={...o,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),s&&(e.level=s),a&&e.type!=="transaction"&&(e.transaction=a)}function nu(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function ru(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function ou(e,t){e.contexts={trace:kn(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:V(t),...e.sdkProcessingMetadata};let n=N(t),r=h(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function iu(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}var Wn,Rs,jn;function As(e){let t=S._sentryDebugIds;if(!t)return{};let n=Object.keys(t);return jn&&n.length===Rs||(Rs=n.length,jn=n.reduce((r,o)=>{Wn||(Wn={});let i=Wn[o];if(i)r[i[0]]=i[1];else{let s=e(o);for(let a=s.length-1;a>=0;a--){let u=s[a]?.filename,p=t[o];if(u&&p){r[u]=p,Wn[o]=[u,p];break}}}return r},{})),jn}function vs(e,t,n,r,o,i){let{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||F(),timestamp:t.timestamp||ae()},u=n.integrations||e.integrations.map(w=>w.name);su(c,e),uu(c,u),o&&o.emit("applyFrameMetadata",t),t.type===void 0&&au(c,e.stackParser);let p=du(r,n.captureContext);n.mechanism&&Oe(c,n.mechanism);let d=o?o.getEventProcessors():[],f=Br().getScopeData();if(i){let w=i.getScopeData();oo(f,w)}if(p){let w=p.getScopeData();oo(f,w)}let m=[...n.attachments||[],...f.attachments];m.length&&(n.attachments=m),bs(c,f);let T=[...d,...f.eventProcessors];return $n(T,c,n).then(w=>(w&&cu(w),typeof s=="number"&&s>0?pu(w,s,a):w))}function su(e,t){let{environment:n,release:r,dist:o,maxValueLength:i=250}=t;e.environment=e.environment||n||Pt,!e.release&&r&&(e.release=r),!e.dist&&o&&(e.dist=o);let s=e.request;s?.url&&(s.url=Xe(s.url,i))}function au(e,t){let n=As(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.filename&&(o.debug_id=n[o.filename])})})}function cu(e){let t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([r,o])=>{n.push({type:"sourcemap",code_file:r,debug_id:o})})}function uu(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function pu(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:le(o.data,t,n)}}))},...e.user&&{user:le(e.user,t,n)},...e.contexts&&{contexts:le(e.contexts,t,n)},...e.extra&&{extra:le(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=le(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:le(o.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=le(e.contexts.flags,3,n)),r}function du(e,t){if(!t)return e;let n=e?e.clone():new ce;return n.update(t),n}function Ns(e){if(e)return fu(e)?{captureContext:e}:lu(e)?{captureContext:e}:e}function fu(e){return e instanceof ce||typeof e=="function"}var mu=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function lu(e){return Object.keys(e).some(t=>mu.includes(t))}function io(e,t){return I().captureException(e,Ns(t))}function Yn(e,t){return I().captureEvent(e,t)}function so(){let e=E();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function qn(e){let t=ue(),n=I(),{userAgent:r}=S.navigator||{},o=ki({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return i?.status==="ok"&&$e(i,{status:"exited"}),ao(),t.setSession(o),o}function ao(){let e=ue(),n=I().getSession()||e.getSession();n&&Mi(n),xs(),e.setSession()}function xs(){let e=ue(),t=E(),n=e.getSession();n&&t&&t.captureSession(n)}function Vn(e=!1){if(e){ao();return}xs()}var _u="7";function Su(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function hu(e){return`${Su(e)}${e.projectId}/envelope/`}function Eu(e,t){let n={sentry_version:_u};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Cs(e,t,n){return t||`${hu(e)}?${Eu(e,n)}`}var Os=[];function Tu(e){let t={};return e.forEach(n=>{let{name:r}=n,o=t[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function co(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){let o=n(t);r=Array.isArray(o)?o:[o]}else r=t;return Tu(r)}function Ls(e,t){let n={};return t.forEach(r=>{r&&po(e,r,n)}),n}function uo(e,t){for(let n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function po(e,t,n){if(n[t.name]){g&&l.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Os.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Os.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,i)=>r(o,i,e))}if(typeof t.processEvent=="function"){let r=t.processEvent.bind(t),o=Object.assign((i,s)=>r(i,s,e),{id:t.name});e.addEventProcessor(o)}g&&l.log(`Integration installed: ${t.name}`)}function Ps(e,t,n){let r=[{type:"client_report"},{timestamp:n||ae(),discarded_events:e}];return ke(t?{dsn:t}:{},[r])}function zn(e){let t=[];e.message&&t.push(e.message);try{let n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function ws(e){let{trace_id:t,parent_span_id:n,span_id:r,status:o,origin:i,data:s,op:a}=e.contexts?.trace??{};return{data:s??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:o,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:s?.[Lt],exclusive_time:s?.[fe],measurements:e.measurements,is_segment:!0}}function ks(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[Lt]:e.profile_id},...e.exclusive_time&&{[fe]:e.exclusive_time}}}},measurements:e.measurements}}var Ms="Not capturing exception because it's already been captured.",Ds="Discarded session because of missing or non-string release",Bs=Symbol.for("SentryInternalError"),Hs=Symbol.for("SentryDoNotSendEventError");function Jn(e){return{message:e,[Bs]:!0}}function fo(e){return{message:e,[Hs]:!0}}function Us(e){return!!e&&typeof e=="object"&&Bs in e}function Fs(e){return!!e&&typeof e=="object"&&Hs in e}var Qt=class{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Qi(t.dsn):g&&l.warn("No DSN provided, client will not send events."),this._dsn){let n=Cs(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){let o=F();if(xn(t))return g&&l.log(Ms),o;let i={event_id:o,...n};return this._process(this.eventFromException(t,i).then(s=>this._captureEvent(s,i,r))),i.event_id}captureMessage(t,n,r,o){let i={event_id:F(),...r},s=xt(t)?t:String(t),a=xe(t)?this.eventFromMessage(s,n,i):this.eventFromException(t,i);return this._process(a.then(c=>this._captureEvent(c,i,o))),i.event_id}captureEvent(t,n,r){let o=F();if(n?.originalException&&xn(n.originalException))return g&&l.log(Ms),o;let i={event_id:o,...n},s=t.sdkProcessingMetadata||{},a=s.capturedSpanScope,c=s.capturedSpanIsolationScope;return this._process(this._captureEvent(t,i,a||r,c)),i.event_id}captureSession(t){this.sendSession(t),$e(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(o=>r&&o))):_e(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){let n=this._integrations[t.name];po(this,t,this._integrations),n||uo(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=ds(t,this._dsn,this._options._metadata,this._options.tunnel);for(let i of n.attachments||[])r=is(r,cs(i));let o=this.sendEnvelope(r);o&&o.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){let{release:n,environment:r=Pt}=this._options;if("aggregates"in t){let i=t.attrs||{};if(!i.release&&!n){g&&l.warn(Ds);return}i.release=i.release||n,i.environment=i.environment||r,t.attrs=i}else{if(!t.release&&!n){g&&l.warn(Ds);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);let o=ps(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){let o=`${t}:${n}`;g&&l.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}on(t,n){let r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{let o=r.indexOf(n);o>-1&&r.splice(o,1)}}emit(t,...n){let r=this._hooks[t];r&&r.forEach(o=>o(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(g&&l.error("Error while sending envelope:",n),n)):(g&&l.error("Transport disabled"),_e({}))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=Ls(this,t),uo(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",o=!1,i=n.exception?.values;if(i){o=!0;for(let c of i)if(c.mechanism?.handled===!1){r=!0;break}}let s=t.status==="ok";(s&&t.errors===0||s&&r)&&($e(t,{...r&&{status:"crashed"},errors:t.errors||Number(o||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Re(n=>{let r=0,o=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=o,t&&r>=t&&(clearInterval(i),n(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,o){let i=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s?.length&&(n.integrations=s),this.emit("preprocessEvent",t,n),t.type||o.setLastEventId(t.event_id||n.event_id),vs(i,t,n,r,this,o).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:Hr(r),...a.contexts};let c=Xt(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=I(),o=ue()){return g&&mo(t)&&l.log(`Captured error event \`${zn(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,o).then(i=>i.event_id,i=>{g&&(Fs(i)?l.log(i.message):Us(i)?l.warn(i.message):l.warn(i))})}_processEvent(t,n,r,o){let i=this.getOptions(),{sampleRate:s}=i,a=$s(t),c=mo(t),u=t.type||"error",p=`before send for type \`${u}\``,d=typeof s>"u"?void 0:We(s);if(c&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error"),tt(fo(`Discarding event because it's not included in the random sample (sampling rate = ${s})`));let f=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,o).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",f),fo("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return m;let b=yu(this,i,m,n);return Iu(b,p)}).then(m=>{if(m===null){if(this.recordDroppedEvent("before_send",f),a){let Fe=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",Fe)}throw fo(`${p} returned \`null\`, will not send event.`)}let T=r.getSession()||o.getSession();if(c&&T&&this._updateSessionFromEvent(T,m),a){let w=m.sdkProcessingMetadata?.spanCountBeforeProcessing||0,Fe=m.spans?m.spans.length:0,st=w-Fe;st>0&&this.recordDroppedEvent("before_send","span",st)}let b=m.transaction_info;if(a&&b&&m.transaction!==t.transaction){let w="custom";m.transaction_info={...b,source:w}}return this.sendEvent(m,n),m}).then(null,m=>{throw Fs(m)||Us(m)?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),Jn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{let[o,i]=n.split(":");return{reason:o,category:i,quantity:r}})}_flushOutcomes(){g&&l.log("Flushing outcomes...");let t=this._clearOutcomes();if(t.length===0){g&&l.log("No outcomes to send");return}if(!this._dsn){g&&l.log("No dsn provided, will not send outcomes");return}g&&l.log("Sending outcomes:",t);let n=Ps(t,this._options.tunnel&&je(this._dsn));this.sendEnvelope(n)}};function Iu(e,t){let n=`${t} must return \`null\` or a valid event.`;if(Te(e))return e.then(r=>{if(!He(r)&&r!==null)throw Jn(n);return r},r=>{throw Jn(`${t} rejected with ${r}`)});if(!He(e)&&e!==null)throw Jn(n);return e}function yu(e,t,n,r){let{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:s}=t,a=n;if(mo(a)&&o)return o(a,r);if($s(a)){if(s){let c=s(ws(a));if(c?a=Ze(n,ks(c)):Kt(),a.spans){let u=[];for(let p of a.spans){let d=s(p);d?u.push(d):(Kt(),u.push(p))}a.spans=u}}if(i){if(a.spans){let c=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return i(a,r)}}return a}function mo(e){return e.type===void 0}function $s(e){return e.type==="transaction"}function bu(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function Gs(e,t,n,r){let o={};return t?.sdk&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(o.dsn=je(r)),ke(o,[bu(e)])}S._sentryClientToLogBufferMap=new WeakMap;function en(e,t){let n=t??Ru(e)??[];if(n.length===0)return;let r=e.getOptions(),o=Gs(n,r._metadata,r.tunnel,e.getDsn());S._sentryClientToLogBufferMap?.set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function Ru(e){return S._sentryClientToLogBufferMap?.get(e)}function lo(e,t){t.debug===!0&&(g?l.enable():pe(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),I().update(t.initialScope);let r=new e(t);return Ws(r),r.init(),r}function Ws(e){I().setClient(e)}var go=Symbol.for("SentryBufferFullError");function js(e){let t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]||Promise.resolve(void 0)}function o(s){if(!n())return tt(go);let a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(s){return new Re((a,c)=>{let u=t.length;if(!u)return a(!0);let p=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(d=>{_e(d).then(()=>{--u||(clearTimeout(p),a(!0))},c)})})}return{$:t,add:o,drain:i}}function Au(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function vu(e,t){return e[t]||e.all||0}function Ys(e,t,n=Date.now()){return vu(e,t)>n}function qs(e,{statusCode:t,headers:n},r=Date.now()){let o={...e},i=n?.["x-sentry-rate-limits"],s=n?.["retry-after"];if(i)for(let a of i.trim().split(",")){let[c,u,,,p]=a.split(":",5),d=parseInt(c,10),f=(isNaN(d)?60:d)*1e3;if(!u)o.all=r+f;else for(let m of u.split(";"))m==="metric_bucket"?(!p||p.split(";").includes("custom"))&&(o[m]=r+f):o[m]=r+f}else s?o.all=r+Au(s,r):t===429&&(o.all=r+60*1e3);return o}var Nu=64;function _o(e,t,n=js(e.bufferSize||Nu)){let r={},o=s=>n.drain(s);function i(s){let a=[];if(Xr(s,(d,f)=>{let m=Zr(f);Ys(r,m)?e.recordDroppedEvent("ratelimit_backoff",m):a.push(d)}),a.length===0)return _e({});let c=ke(s[0],a),u=d=>{Xr(c,(f,m)=>{e.recordDroppedEvent(d,Zr(m))})},p=()=>t({body:ss(c)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&g&&l.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=qs(r,d),d),d=>{throw u("network_error"),g&&l.error("Encountered error running transport request:",d),d});return n.add(p).then(d=>d,d=>{if(d===go)return g&&l.error("Skipped sending event because buffer is full."),u("queue_overflow"),_e({});throw d})}return{send:i,flush:o}}function So(e){e.user?.ip_address===void 0&&(e.user={...e.user,ip_address:"{{auto}}"})}function ho(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Eo(e,t,n=[t],r="npm"){let o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:Be})),version:Be}),e._metadata=o}function tn(e={}){let t=e.client||E();if(!so()||!t)return{};let n=ie(),r=Le(n);if(r.getTraceData)return r.getTraceData(e);let o=e.scope||I(),i=e.span||C(),s=i?Yr(i):xu(o),a=i?V(i):Xt(t,o),c=Gr(a);return Ln.test(s)?{"sentry-trace":s,baggage:c}:(l.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function xu(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Jt(t,r,n)}var Cu=100;function Ye(e,t){let n=E(),r=ue();if(!n)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:i=Cu}=n.getOptions();if(i<=0)return;let a={timestamp:ae(),...e},c=o?pe(()=>o(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}var Vs,Ou="FunctionToString",zs=new WeakMap,Lu=()=>({name:Ou,setupOnce(){Vs=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=lt(this),n=zs.has(E())&&t!==void 0?t:this;return Vs.apply(n,e)}}catch{}},setup(e){zs.set(e,!0)}}),To=Lu;var Pu=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],wu="EventFilters",Ks=(e={})=>{let t;return{name:wu,setup(n){let r=n.getOptions();t=Js(e,r)},processEvent(n,r,o){if(!t){let i=o.getOptions();t=Js(e,i)}return ku(n,t)?null:n}}},Io=(e={})=>({...Ks(e),name:"InboundFilters"});function Js(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Pu],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function ku(e,t){if(e.type){if(e.type==="transaction"&&Du(e,t.ignoreTransactions))return g&&l.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ce(e)}`),!0}else{if(Mu(e,t.ignoreErrors))return g&&l.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ce(e)}`),!0;if(Hu(e))return g&&l.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ce(e)}`),!0;if(Uu(e,t.denyUrls))return g&&l.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ce(e)}.
Url: ${Kn(e)}`),!0;if(!Fu(e,t.allowUrls))return g&&l.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ce(e)}.
Url: ${Kn(e)}`),!0}return!1}function Mu(e,t){return t?.length?zn(e).some(n=>de(n,t)):!1}function Du(e,t){if(!t?.length)return!1;let n=e.transaction;return n?de(n,t):!1}function Uu(e,t){if(!t?.length)return!1;let n=Kn(e);return n?de(n,t):!1}function Fu(e,t){if(!t?.length)return!0;let n=Kn(e);return n?de(n,t):!0}function Bu(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Kn(e){try{let n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?Bu(n):null}catch{return g&&l.error(`Cannot extract url for event ${Ce(e)}`),null}}function Hu(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function bo(e,t,n,r,o,i){if(!o.exception?.values||!i||!se(i.originalException,Error))return;let s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;s&&(o.exception.values=yo(e,t,r,i.originalException,n,o.exception.values,s,0))}function yo(e,t,n,r,o,i,s,a){if(i.length>=n+1)return i;let c=[...i];if(se(r[o],Error)){Xs(s,a);let u=e(t,r[o]),p=c.length;Zs(u,o,p,a),c=yo(e,t,n,r[o],o,[u,...c],u,p)}return Array.isArray(r.errors)&&r.errors.forEach((u,p)=>{if(se(u,Error)){Xs(s,a);let d=e(t,u),f=c.length;Zs(d,`errors[${p}]`,f,a),c=yo(e,t,n,u,o,[d,...c],d,f)}}),c}function Xs(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Zs(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Ro(e){let t="console";K(t,e),X(t,$u)}function $u(){"console"in S&&br.forEach(function(e){e in S.console&&U(S.console,e,function(t){return vt[e]=t,function(...n){D("console",{args:n,level:e}),vt[e]?.apply(S.console,n)}})})}function Ao(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}var Gu="Dedupe",Wu=()=>{let e;return{name:Gu,processEvent(t){if(t.type)return t;try{if(ju(t,e))return g&&l.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},vo=Wu;function ju(e,t){return t?!!(Yu(e,t)||qu(e,t)):!1}function Yu(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!ta(e,t)||!ea(e,t))}function qu(e,t){let n=Qs(t),r=Qs(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!ta(e,t)||!ea(e,t))}function ea(e,t){let n=Tn(e),r=Tn(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){let i=r[o],s=n[o];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function ta(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Qs(e){return e.exception?.values&&e.exception.values[0]}var Vu="thismessage:/";function Xn(e){return"isRelative"in e}function nn(e,t){let n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=t??(n?Vu:void 0);try{if("canParse"in URL&&!URL.canParse(e,r))return;let o=new URL(e,r);return n?{isRelative:n,pathname:o.pathname,search:o.search,hash:o.hash}:o}catch{}}function No(e){if(Xn(e))return e.pathname;let t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Ae(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function xo(e){return e.split(/[?#]/,1)[0]}function Co(e,t,n,r,o="auto.http.browser"){if(!e.fetchData)return;let{method:i,url:s}=e.fetchData,a=Q()&&t(s);if(e.endTimestamp&&a){let d=e.fetchData.__span;if(!d)return;let f=r[d];f&&(Ju(f,e),delete r[d]);return}let c=!!C(),u=a&&c?ge(Xu(s,i,o)):new ee;if(e.fetchData.__span=u.spanContext().spanId,r[u.spanContext().spanId]=u,n(e.fetchData.url)){let d=e.args[0],f=e.args[1]||{},m=zu(d,f,Q()&&c?u:void 0);m&&(e.args[1]=f,f.headers=m)}let p=E();if(p){let d={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};p.emit("beforeOutgoingRequestSpan",u,d)}return u}function zu(e,t,n){let r=tn({span:n}),o=r["sentry-trace"],i=r.baggage;if(!o)return;let s=t.headers||(Rn(e)?e.headers:void 0);if(s)if(Ku(s)){let a=new Headers(s);if(a.get("sentry-trace")||a.set("sentry-trace",o),i){let c=a.get("baggage");c?Zn(c)||a.set("baggage",`${c},${i}`):a.set("baggage",i)}return a}else if(Array.isArray(s)){let a=[...s];s.find(u=>u[0]==="sentry-trace")||a.push(["sentry-trace",o]);let c=s.find(u=>u[0]==="baggage"&&Zn(u[1]));return i&&!c&&a.push(["baggage",i]),a}else{let a="sentry-trace"in s?s["sentry-trace"]:void 0,c="baggage"in s?s.baggage:void 0,u=c?Array.isArray(c)?[...c]:[c]:[],p=c&&(Array.isArray(c)?c.find(d=>Zn(d)):Zn(c));return i&&!p&&u.push(i),{...s,"sentry-trace":a??o,baggage:u.length>0?u.join(","):void 0}}else return{...r}}function Ju(e,t){if(t.response){zt(e,t.response.status);let n=t.response?.headers&&t.response.headers.get("content-length");if(n){let r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}function Zn(e){return e.split(",").some(t=>t.trim().startsWith(Cn))}function Ku(e){return typeof Headers<"u"&&se(e,Headers)}function Xu(e,t,n){let r=nn(e);return{name:r?`${t} ${No(r)}`:t,attributes:Zu(e,r,t,n)}}function Zu(e,t,n,r){let o={url:e,type:"fetch","http.method":n,[R]:r,[W]:"http.client"};return t&&(Xn(t)||(o["http.url"]=t.href,o["server.address"]=t.host),t.search&&(o["http.query"]=t.search),t.hash&&(o["http.fragment"]=t.hash)),o}function Qn(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}var rn=S;function Oo(){return"history"in rn&&!!rn.history}function Qu(){if(!("fetch"in rn))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function on(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Lo(){if(typeof EdgeRuntime=="string")return!0;if(!Qu())return!1;if(on(rn.fetch))return!0;let e=!1,t=rn.document;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=on(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){g&&l.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function sn(e,t){let n="fetch";K(n,e),X(n,()=>ra(void 0,t))}function wo(e){let t="fetch-body-resolved";K(t,e),X(t,()=>ra(tp))}function ra(e,t=!1){t&&!Lo()||U(S,"fetch",function(n){return function(...r){let o=new Error,{method:i,url:s}=np(r),a={args:r,fetchData:{method:i,url:s},startTimestamp:L()*1e3,virtualError:o,headers:rp(r)};return e||D("fetch",{...a}),n.apply(S,r).then(async c=>(e?e(c):D("fetch",{...a,endTimestamp:L()*1e3,response:c}),c),c=>{if(D("fetch",{...a,endTimestamp:L()*1e3,error:c}),ft(c)&&c.stack===void 0&&(c.stack=o.stack,k(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{let u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function ep(e,t){if(e?.body){let n=e.body,r=n.getReader(),o=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3),i=!0;for(;i;){let s;try{s=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);let{done:a}=await r.read();clearTimeout(s),a&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(s)}}clearTimeout(o),r.releaseLock(),n.cancel().then(null,()=>{})}}function tp(e){let t;try{t=e.clone()}catch{return}ep(t,()=>{D("fetch-body-resolved",{endTimestamp:L()*1e3,response:e})})}function Po(e,t){return!!e&&typeof e=="object"&&!!e[t]}function na(e){return typeof e=="string"?e:e?Po(e,"url")?e.url:e.toString?e.toString():"":""}function np(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:na(n),method:Po(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:na(t),method:Po(t,"method")?String(t.method).toUpperCase():"GET"}}function rp(e){let[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(Rn(t))return new Headers(t.headers)}catch{}}function ko(){return"npm"}var y=S,Mo=0;function Do(){return Mo>0}function op(){Mo++,setTimeout(()=>{Mo--})}function It(e,t={}){function n(o){return typeof o=="function"}if(!n(e))return e;try{let o=e.__sentry_wrapped__;if(o)return typeof o=="function"?o:e;if(lt(e))return e}catch{return e}let r=function(...o){try{let i=o.map(s=>It(s,t));return e.apply(this,i)}catch(i){throw op(),Qe(s=>{s.addEventProcessor(a=>(t.mechanism&&(Ct(a,void 0,void 0),Oe(a,t.mechanism)),a.extra={...a.extra,arguments:o},a)),io(i)}),i}};try{for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch{}vn(r,e),k(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function cn(){let e=Ie(),{referrer:t}=y.document||{},{userAgent:n}=y.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}function er(e,t){let n=Bo(e,t),r={type:up(t),value:pp(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function ip(e,t,n,r){let i=E()?.getOptions().normalizeDepth,s=mp(t),a={__serialized__:Fn(t,i)};if(s)return{exception:{values:[er(e,s)]},extra:a};let c={exception:{values:[{type:mt(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:dp(t,{isUnhandledRejection:r})}]},extra:a};if(n){let u=Bo(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function Uo(e,t){return{exception:{values:[er(e,t)]}}}function Bo(e,t){let n=t.stacktrace||t.stack||"",r=ap(t),o=cp(t);try{return e(n,r,o)}catch{}return[]}var sp=/Minified React error #\d+;/i;function ap(e){return e&&sp.test(e.message)?1:0}function cp(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function oa(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function up(e){let t=e?.name;return!t&&oa(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function pp(e){let t=e?.message;return oa(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function ia(e,t,n,r){let o=n?.syntheticException||void 0,i=tr(e,t,o,r);return Oe(i),i.level="error",n?.event_id&&(i.event_id=n.event_id),_e(i)}function sa(e,t,n="info",r,o){let i=r?.syntheticException||void 0,s=Fo(e,t,i,o);return s.level=n,r?.event_id&&(s.event_id=r.event_id),_e(s)}function tr(e,t,n,r,o){let i;if(yn(t)&&t.error)return Uo(e,t.error);if(bn(t)||Or(t)){let s=t;if("stack"in t)i=Uo(e,t);else{let a=s.name||(bn(s)?"DOMError":"DOMException"),c=s.message?`${a}: ${s.message}`:a;i=Fo(e,c,n,r),Ct(i,c)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return ft(t)?Uo(e,t):He(t)||mt(t)?(i=ip(e,t,n,o),Oe(i,{synthetic:!0}),i):(i=Fo(e,t,n,r),Ct(i,`${t}`,void 0),Oe(i,{synthetic:!0}),i)}function Fo(e,t,n,r){let o={};if(r&&n){let i=Bo(e,n);i.length&&(o.exception={values:[{value:t,stacktrace:{frames:i}}]}),Oe(o,{synthetic:!0})}if(xt(t)){let{__sentry_template_string__:i,__sentry_template_values__:s}=t;return o.logentry={message:i,params:s},o}return o.message=t,o}function dp(e,{isUnhandledRejection:t}){let n=Mr(e),r=t?"promise rejection":"exception";return yn(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:mt(e)?`Event \`${fp(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function fp(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function mp(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}var lp=5e3,nr=class extends Qt{constructor(t){let n=gp(t),r=y.SENTRY_SDK_SOURCE||ko();Eo(n,"browser",["browser"],r),super(n);let{sendDefaultPii:o,sendClientReports:i,_experiments:s}=this._options,a=s?.enableLogs;y.document&&(i||a)&&y.document.addEventListener("visibilitychange",()=>{y.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),a&&en(this))}),a&&(this.on("flush",()=>{en(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{en(this)},lp)})),o&&(this.on("postprocessEvent",So),this.on("beforeSendSession",ho))}eventFromException(t,n){return ia(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return sa(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,o){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,o)}};function gp(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:y.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}var nt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var _=S;var _p=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Se=(e,t,n,r)=>{let o,i;return s=>{t.value>=0&&(s||r)&&(i=t.value-(o??0),(i||o===void 0)&&(o=t.value,t.delta=i,t.rating=_p(t.value,n),e(t)))}};var aa=()=>`v5-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var qe=(e=!0)=>{let t=_.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t};var he=()=>qe()?.activationStart??0;var Ee=(e,t=-1)=>{let n=qe(),r="navigate";return n&&(_.document?.prerendering||he()>0?r="prerender":_.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:aa(),navigationType:r}};var Ho=new WeakMap;function Dt(e,t){return Ho.get(e)||Ho.set(e,new t),Ho.get(e)}var rr=class e{constructor(){e.prototype.__init.call(this),e.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;let n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}};var re=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(o=>{Promise.resolve().then(()=>{t(o.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}};var rt=e=>{let t=!1;return()=>{t||(e(),t=!0)}};var un=-1,Sp=()=>_.document?.visibilityState==="hidden"&&!_.document?.prerendering?0:1/0,or=e=>{_.document.visibilityState==="hidden"&&un>-1&&(un=e.type==="visibilitychange"?e.timeStamp:0,Ep())},hp=()=>{addEventListener("visibilitychange",or,!0),addEventListener("prerenderingchange",or,!0)},Ep=()=>{removeEventListener("visibilitychange",or,!0),removeEventListener("prerenderingchange",or,!0)},ot=()=>{if(_.document&&un<0){let e=he();un=(_.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>e)[0]?.startTime)??Sp(),hp()}return{get firstHiddenTime(){return un}}};var Me=e=>{_.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()};var Tp=[1800,3e3],ca=(e,t={})=>{Me(()=>{let n=ot(),r=Ee("FCP"),o,s=re("paint",a=>{for(let c of a)c.name==="first-contentful-paint"&&(s.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-he(),0),r.entries.push(c),o(!0)))});s&&(o=Se(e,r,Tp,t.reportAllChanges))})};var Ip=[.1,.25],ua=(e,t={})=>{ca(rt(()=>{let n=Ee("CLS",0),r,o=Dt(t,rr),i=a=>{for(let c of a)o._processEntry(c);o._sessionValue>n.value&&(n.value=o._sessionValue,n.entries=o._sessionEntries,r())},s=re("layout-shift",i);s&&(r=Se(e,n,Ip,t.reportAllChanges),_.document?.addEventListener("visibilitychange",()=>{_.document?.visibilityState==="hidden"&&(i(s.takeRecords()),r(!0))}),_?.setTimeout?.(r))}))};var it=e=>{let t=n=>{(n.type==="pagehide"||_.document?.visibilityState==="hidden")&&e(n)};_.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))};var yp=[100,300],pa=(e,t={})=>{Me(()=>{let n=ot(),r=Ee("FID"),o,i=c=>{c.startTime<n.firstHiddenTime&&(r.value=c.processingStart-c.startTime,r.entries.push(c),o(!0))},s=c=>{c.forEach(i)},a=re("first-input",s);o=Se(e,r,yp,t.reportAllChanges),a&&it(rt(()=>{s(a.takeRecords()),a.disconnect()}))})};var da=0,$o=1/0,ir=0,bp=e=>{e.forEach(t=>{t.interactionId&&($o=Math.min($o,t.interactionId),ir=Math.max(ir,t.interactionId),da=ir?(ir-$o)/7+1:0)})},Go,Wo=()=>Go?da:performance.interactionCount||0,fa=()=>{"interactionCount"in performance||Go||(Go=re("event",bp,{type:"event",buffered:!0,durationThreshold:0}))};var jo=10,ma=0,Rp=()=>Wo()-ma,sr=class e{constructor(){e.prototype.__init.call(this),e.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){ma=Wo(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){let t=Math.min(this._longestInteractionList.length-1,Math.floor(Rp()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;let n=this._longestInteractionList.at(-1),r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<jo||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((o,i)=>i._latency-o._latency),this._longestInteractionList.length>jo){let o=this._longestInteractionList.splice(jo);for(let i of o)this._longestInteractionMap.delete(i.id)}this._onAfterProcessingINPCandidate?.(r)}}};var ar=e=>{let t=_.requestIdleCallback||_.setTimeout;_.document?.visibilityState==="hidden"?e():(e=rt(e),t(e),it(e))};var Ap=[200,500],vp=40,la=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&Me(()=>{fa();let n=Ee("INP"),r,o=Dt(t,sr),i=a=>{ar(()=>{for(let u of a)o._processEntry(u);let c=o._estimateP98LongestInteraction();c&&c._latency!==n.value&&(n.value=c._latency,n.entries=c.entries,r())})},s=re("event",i,{durationThreshold:t.durationThreshold??vp});r=Se(e,n,Ap,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),it(()=>{i(s.takeRecords()),r(!0)}))})};var cr=class{_processEntry(t){this._onBeforeProcessingEntry?.(t)}};var Np=[2500,4e3],ga=(e,t={})=>{Me(()=>{let n=ot(),r=Ee("LCP"),o,i=Dt(t,cr),s=c=>{t.reportAllChanges||(c=c.slice(-1));for(let u of c)i._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-he(),0),r.entries=[u],o())},a=re("largest-contentful-paint",s);if(a){o=Se(e,r,Np,t.reportAllChanges);let c=rt(()=>{s(a.takeRecords()),a.disconnect(),o(!0)});for(let u of["keydown","click","visibilitychange"])_.document&&addEventListener(u,()=>ar(c),{capture:!0,once:!0})}})};var xp=[800,1800],Yo=e=>{_.document?.prerendering?Me(()=>Yo(e)):_.document?.readyState!=="complete"?addEventListener("load",()=>Yo(e),!0):setTimeout(e)},_a=(e,t={})=>{let n=Ee("TTFB"),r=Se(e,n,xp,t.reportAllChanges);Yo(()=>{let o=qe();o&&(n.value=Math.max(o.responseStart-he(),0),n.entries=[o],r(!0))})};var pn={},ur={},Sa,ha,Ea,Ta,Ia;function dn(e,t=!1){return mn("cls",e,Cp,Sa,t)}function fn(e,t=!1){return mn("lcp",e,Lp,Ea,t)}function qo(e){return mn("fid",e,Op,ha)}function Vo(e){return mn("ttfb",e,Pp,Ta)}function zo(e){return mn("inp",e,wp,Ia)}function ve(e,t){return ya(e,t),ur[e]||(kp(e),ur[e]=!0),ba(e,t)}function Ut(e,t){let n=pn[e];if(n?.length)for(let r of n)try{r(t)}catch(o){nt&&O.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${te(r)}
Error:`,o)}}function Cp(){return ua(e=>{Ut("cls",{metric:e}),Sa=e},{reportAllChanges:!0})}function Op(){return pa(e=>{Ut("fid",{metric:e}),ha=e})}function Lp(){return ga(e=>{Ut("lcp",{metric:e}),Ea=e},{reportAllChanges:!0})}function Pp(){return _a(e=>{Ut("ttfb",{metric:e}),Ta=e})}function wp(){return la(e=>{Ut("inp",{metric:e}),Ia=e})}function mn(e,t,n,r,o=!1){ya(e,t);let i;return ur[e]||(i=n(),ur[e]=!0),r&&t({metric:r}),ba(e,t,o?i:void 0)}function kp(e){let t={};e==="event"&&(t.durationThreshold=0),re(e,n=>{Ut(e,{entries:n})},t)}function ya(e,t){pn[e]=pn[e]||[],pn[e].push(t)}function ba(e,t,n){return()=>{n&&n();let r=pn[e];if(!r)return;let o=r.indexOf(t);o!==-1&&r.splice(o,1)}}function Ra(e){return"duration"in e}function pr(e){return typeof e=="number"&&isFinite(e)}function De(e,t,n,{...r}){let o=h(e).start_timestamp;return o&&o>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Zt(e,()=>{let i=ge({startTime:t,...r});return i&&i.end(n),i})}function Ft(e){let t=E();if(!t)return;let{name:n,transaction:r,attributes:o,startTime:i}=e,{release:s,environment:a,sendDefaultPii:c}=t.getOptions(),p=t.getIntegrationByName("Replay")?.getReplayId(),d=I(),f=d.getUser(),m=f!==void 0?f.email||f.id||f.ip_address:void 0,T;try{T=d.getScopeData().contexts.profile.profile_id}catch{}let b={release:s,environment:a,user:m||void 0,profile_id:T||void 0,replay_id:p||void 0,transaction:r,"user_agent.original":_.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...o};return ge({name:n,attributes:b,startTime:i,experimental:{standalone:!0}})}function yt(){return _.addEventListener&&_.performance}function A(e){return e/1e3}function ln(e){let t="unknown",n="unknown",r="";for(let o of e){if(o==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=o}return r===e&&(t=r),{name:t,version:n}}function dr(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function fr(e){let t,n=!1;function r(o){!n&&t&&e(o,t),n=!0}it(()=>{n||r("pagehide")}),setTimeout(()=>{let o=E();if(!o)return;let i=o.on("beforeStartNavigationSpan",(a,c)=>{c?.isRedirect||(r("navigation"),i?.())}),s=C();if(s){let a=N(s);h(a).op==="pageload"&&(t=a.spanContext().spanId)}},0)}function Aa(){let e=0,t;if(!dr("layout-shift"))return;let n=dn(({metric:r})=>{let o=r.entries[r.entries.length-1];o&&(e=r.value,t=o)},!0);fr((r,o)=>{Mp(e,t,o,r),n()})}function Mp(e,t,n,r){nt&&O.log(`Sending CLS span (${e})`);let o=A((M()||0)+(t?.startTime||0)),i=I().getScopeData().transactionName,s=t?Y(t.sources[0]?.node):"Layout shift",a={[R]:"auto.http.browser.cls",[W]:"ui.webvital.cls",[fe]:t?.duration||0,"sentry.pageload.span_id":n,"sentry.report_event":r};t?.sources&&t.sources.forEach((u,p)=>{a[`cls.source.${p+1}`]=Y(u.node)});let c=Ft({name:s,transaction:i,attributes:a,startTime:o});c&&(c.addEvent("cls",{[Pe]:"",[we]:e}),c.end(o))}function va(){let e=0,t;if(!dr("largest-contentful-paint"))return;let n=fn(({metric:r})=>{let o=r.entries[r.entries.length-1];o&&(e=r.value,t=o)},!0);fr((r,o)=>{Dp(e,t,o,r),n()})}function Dp(e,t,n,r){nt&&O.log(`Sending LCP span (${e})`);let o=A((M()||0)+(t?.startTime||0)),i=I().getScopeData().transactionName,s=t?Y(t.element):"Largest contentful paint",a={[R]:"auto.http.browser.lcp",[W]:"ui.webvital.lcp",[fe]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=Y(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url.trim().slice(0,200)),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));let c=Ft({name:s,transaction:i,attributes:a,startTime:o});c&&(c.addEvent("lcp",{[Pe]:"millisecond",[we]:e}),c.end(o))}var Up=2147483647,Na=0,j={},oe,lr;function Ko({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t}){let n=yt();if(n&&M()){n.mark&&_.performance.mark("sentry-tracing-init");let r=Hp(),o=t?va():Bp(),i=$p(),s=e?Aa():Fp();return()=>{r(),o?.(),i(),s?.()}}return()=>{}}function Xo(){ve("longtask",({entries:e})=>{let t=C();if(!t)return;let{op:n,start_timestamp:r}=h(t);for(let o of e){let i=A(M()+o.startTime),s=A(o.duration);n==="navigation"&&r&&i<r||De(t,i,i+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[R]:"auto.ui.browser.metrics"}})}})}function Zo(){new PerformanceObserver(t=>{let n=C();if(n)for(let r of t.getEntries()){if(!r.scripts[0])continue;let o=A(M()+r.startTime),{start_timestamp:i,op:s}=h(n);if(s==="navigation"&&i&&o<i)continue;let a=A(r.duration),c={[R]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:p,invokerType:d,sourceURL:f,sourceFunctionName:m,sourceCharPosition:T}=u;c["browser.script.invoker"]=p,c["browser.script.invoker_type"]=d,f&&(c["code.filepath"]=f),m&&(c["code.function"]=m),T!==-1&&(c["browser.script.source_char_position"]=T),De(n,o,o+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function Qo(){ve("event",({entries:e})=>{let t=C();if(t){for(let n of e)if(n.name==="click"){let r=A(M()+n.startTime),o=A(n.duration),i={name:Y(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[R]:"auto.ui.browser.metrics"}},s=Yt(n.target);s&&(i.attributes["ui.component_name"]=s),De(t,r,r+o,i)}}})}function Fp(){return dn(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(j.cls={value:e.value,unit:""},lr=t)},!0)}function Bp(){return fn(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(j.lcp={value:e.value,unit:"millisecond"},oe=t)},!0)}function Hp(){return qo(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let n=A(M()),r=A(t.startTime);j.fid={value:e.value,unit:"millisecond"},j["mark.fid"]={value:n+r,unit:"second"}})}function $p(){return Vo(({metric:e})=>{e.entries[e.entries.length-1]&&(j.ttfb={value:e.value,unit:"millisecond"})})}function ei(e,t){let n=yt(),r=M();if(!n?.getEntries||!r)return;let o=A(r),i=n.getEntries(),{op:s,start_timestamp:a}=h(e);if(i.slice(Na).forEach(c=>{let u=A(c.startTime),p=A(Math.max(0,c.duration));if(!(s==="navigation"&&a&&o+u<a))switch(c.entryType){case"navigation":{jp(e,c,o);break}case"mark":case"paint":case"measure":{Gp(e,c,u,p,o,t.ignorePerformanceApiSpans);let d=ot(),f=c.startTime<d.firstHiddenTime;c.name==="first-paint"&&f&&(j.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&f&&(j.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{Vp(e,c,c.name,u,p,o,t.ignoreResourceSpans);break}}}),Na=Math.max(i.length-1,0),zp(e),s==="pageload"){Kp(j);let c=j["mark.fid"];c&&j.fid&&(De(e,c.value,c.value+A(j.fid.value),{name:"first input delay",op:"ui.action",attributes:{[R]:"auto.ui.browser.metrics"}}),delete j["mark.fid"]),(!("fcp"in j)||!t.recordClsOnPageloadSpan)&&delete j.cls,t.recordLcpOnPageloadSpan||delete j.lcp,Object.entries(j).forEach(([u,p])=>{eo(u,p.value,p.unit)}),e.setAttribute("performance.timeOrigin",o),e.setAttribute("performance.activationStart",he()),Jp(e,t)}oe=void 0,lr=void 0,j={}}function Gp(e,t,n,r,o,i){if(["mark","measure"].includes(t.entryType)&&de(t.name,i))return;let s=qe(!1),a=A(s?s.requestStart:0),c=o+Math.max(n,a),u=o+n,p=u+r,d={[R]:"auto.resource.browser.metrics"};c!==u&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=c),Wp(d,t),c<=p&&De(e,c,p,{name:t.name,op:t.entryType,attributes:d})}function Wp(e,t){try{let n=t.detail;if(!n)return;if(typeof n=="object"){for(let[r,o]of Object.entries(n))if(o&&xe(o))e[`sentry.browser.measure.detail.${r}`]=o;else if(o!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(o)}catch{}return}if(xe(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function jp(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{mr(e,t,r,n)}),mr(e,t,"secureConnection",n,"TLS/SSL"),mr(e,t,"fetch",n,"cache"),mr(e,t,"domainLookup",n,"DNS"),qp(e,t,n)}function mr(e,t,n,r,o=n){let i=Yp(n),s=t[i],a=t[`${n}Start`];!a||!s||De(e,r+A(a),r+A(s),{op:`browser.${o}`,name:t.name,attributes:{[R]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function Yp(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function qp(e,t,n){let r=n+A(t.requestStart),o=n+A(t.responseEnd),i=n+A(t.responseStart);t.responseEnd&&(De(e,r,o,{op:"browser.request",name:t.name,attributes:{[R]:"auto.ui.browser.metrics"}}),De(e,i,o,{op:"browser.response",name:t.name,attributes:{[R]:"auto.ui.browser.metrics"}}))}function Vp(e,t,n,r,o,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(s?.includes(a))return;let c=Ae(n),u={[R]:"auto.resource.browser.metrics"};Jo(u,t,"transferSize","http.response_transfer_size"),Jo(u,t,"encodedBodySize","http.response_content_length"),Jo(u,t,"decodedBodySize","http.decoded_response_content_length");let p=t.deliveryType;p!=null&&(u["http.response_delivery_type"]=p);let d=t.renderBlockingStatus;if(d&&(u["resource.render_blocking_status"]=d),c.protocol&&(u["url.scheme"]=c.protocol.split(":").pop()),c.host&&(u["server.address"]=c.host),u["url.same_origin"]=n.includes(_.location.origin),t.nextHopProtocol!=null){let{name:T,version:b}=ln(t.nextHopProtocol);u["network.protocol.name"]=T,u["network.protocol.version"]=b}let f=i+r,m=f+o;De(e,f,m,{name:n.replace(_.location.origin,""),op:a,attributes:u})}function zp(e){let t=_.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),pr(n.rtt)&&(j["connection.rtt"]={value:n.rtt,unit:"millisecond"})),pr(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),pr(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function Jp(e,t){oe&&t.recordLcpOnPageloadSpan&&(oe.element&&e.setAttribute("lcp.element",Y(oe.element)),oe.id&&e.setAttribute("lcp.id",oe.id),oe.url&&e.setAttribute("lcp.url",oe.url.trim().slice(0,200)),oe.loadTime!=null&&e.setAttribute("lcp.loadTime",oe.loadTime),oe.renderTime!=null&&e.setAttribute("lcp.renderTime",oe.renderTime),e.setAttribute("lcp.size",oe.size)),lr?.sources&&t.recordClsOnPageloadSpan&&lr.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,Y(n.node)))}function Jo(e,t,n,r){let o=t[n];o!=null&&o<Up&&(e[r]=o)}function Kp(e){let t=qe(!1);if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function ti(){return yt()&&M()?ve("element",Xp):()=>{}}var Xp=({entries:e})=>{let t=C(),n=t?N(t):void 0,r=n?h(n).description:I().getScopeData().transactionName;e.forEach(o=>{let i=o;if(!i.identifier)return;let s=i.name,a=i.renderTime,c=i.loadTime,[u,p]=c?[A(c),"load-time"]:a?[A(a),"render-time"]:[L(),"entry-emission"],d=s==="image-paint"?A(Math.max(0,(a??0)-(c??0))):0,f={[R]:"auto.ui.browser.elementtiming",[W]:"ui.elementtiming",[q]:"component","sentry.span_start_time_source":p,"sentry.transaction_name":r,"element.id":i.id,"element.type":i.element?.tagName?.toLowerCase()||"unknown","element.size":i.naturalWidth&&i.naturalHeight?`${i.naturalWidth}x${i.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":i.url||void 0,"element.identifier":i.identifier,"element.paint_type":s};to({name:`element[${i.identifier}]`,attributes:f,startTime:u,onlyIfParent:!0},m=>{m.end(u+d)})})};var Zp=1e3,xa,ni,ri;function oi(e){let t="dom";K(t,e),X(t,Qp)}function Qp(){if(!_.document)return;let e=D.bind(null,"dom"),t=Ca(e,!0);_.document.addEventListener("click",t,!1),_.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{let o=_[n]?.prototype;o?.hasOwnProperty?.("addEventListener")&&(U(o,"addEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{let u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},p=u[s]=u[s]||{refCount:0};if(!p.handler){let d=Ca(e);p.handler=d,i.call(this,s,d,c)}p.refCount++}catch{}return i.call(this,s,a,c)}}),U(o,"removeEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{let u=this.__sentry_instrumentation_handlers__||{},p=u[s];p&&(p.refCount--,p.refCount<=0&&(i.call(this,s,p.handler,c),p.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,a,c)}}))})}function ed(e){if(e.type!==ni)return!1;try{if(!e.target||e.target._sentryId!==ri)return!1}catch{}return!0}function td(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function Ca(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=nd(n);if(td(n.type,r))return;k(n,"_sentryCaptured",!0),r&&!r._sentryId&&k(r,"_sentryId",F());let o=n.type==="keypress"?"input":n.type;ed(n)||(e({event:n,name:o,global:t}),ni=n.type,ri=r?r._sentryId:void 0),clearTimeout(xa),xa=_.setTimeout(()=>{ri=void 0,ni=void 0},Zp)}}function nd(e){try{return e.target}catch{return null}}var gr;function bt(e){let t="history";K(t,e),X(t,rd)}function rd(){if(_.addEventListener("popstate",()=>{let t=_.location.href,n=gr;if(gr=t,n===t)return;D("history",{from:n,to:t})}),!Oo())return;function e(t){return function(...n){let r=n.length>2?n[2]:void 0;if(r){let o=gr,i=od(String(r));if(gr=i,o===i)return t.apply(this,n);D("history",{from:o,to:i})}return t.apply(this,n)}}U(_.history,"pushState",e),U(_.history,"replaceState",e)}function od(e){try{return new URL(e,_.location.origin).toString()}catch{return e}}var _r={};function ii(e){let t=_r[e];if(t)return t;let n=_[e];if(on(n))return _r[e]=n.bind(_);let r=_.document;if(r&&typeof r.createElement=="function")try{let o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);let i=o.contentWindow;i?.[e]&&(n=i[e]),r.head.removeChild(o)}catch(o){nt&&O.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,o)}return n&&(_r[e]=n.bind(_))}function Sr(e){_r[e]=void 0}var Ve="__sentry_xhr_v3__";function gn(e){let t="xhr";K(t,e),X(t,id)}function id(){if(!_.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){let o=new Error,i=L()*1e3,s=Z(r[0])?r[0].toUpperCase():void 0,a=sd(r[1]);if(!s||!a)return t.apply(n,r);n[Ve]={method:s,url:a,request_headers:{}},s==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);let c=()=>{let u=n[Ve];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}let p={endTimestamp:L()*1e3,startTimestamp:i,xhr:n,virtualError:o};D("xhr",p)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,p,d){return c(),u.apply(p,d)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,p,d){let[f,m]=d,T=p[Ve];return T&&Z(f)&&Z(m)&&(T.request_headers[f.toLowerCase()]=m),u.apply(p,d)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){let o=n[Ve];if(!o)return t.apply(n,r);r[0]!==void 0&&(o.body=r[0]);let i={startTimestamp:L()*1e3,xhr:n};return D("xhr",i),t.apply(n,r)}})}function sd(e){if(Z(e))return e;try{return e.toString()}catch{}}var si=[],hr=new Map,ad=60;function ai(){if(yt()&&M()){let t=cd();return()=>{t()}}return()=>{}}var Oa={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function cd(){return zo(ud)}var ud=({metric:e})=>{if(e.value==null)return;let t=A(e.value);if(t>ad)return;let n=e.entries.find(T=>T.duration===e.value&&Oa[T.name]);if(!n)return;let{interactionId:r}=n,o=Oa[n.name],i=A(M()+n.startTime),s=C(),a=s?N(s):void 0,u=(r!=null?hr.get(r):void 0)||a,p=u?h(u).description:I().getScopeData().transactionName,d=Y(n.target),f={[R]:"auto.http.browser.inp",[W]:`ui.interaction.${o}`,[fe]:n.duration},m=Ft({name:d,transaction:p,attributes:f,startTime:i});m&&(m.addEvent("inp",{[Pe]:"millisecond",[we]:e.value}),m.end(i+t))};function ci(){let e=({entries:t})=>{let n=C(),r=n&&N(n);t.forEach(o=>{if(!Ra(o)||!r)return;let i=o.interactionId;if(i!=null&&!hr.has(i)){if(si.length>10){let s=si.shift();hr.delete(s)}si.push(i),hr.set(i,r)}})};ve("event",e),ve("first-input",e)}function La(e,t=ii("fetch")){let n=0,r=0;function o(i){let s=i.body.length;n+=s,r++;let a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Sr("fetch"),tt("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=s,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Sr("fetch"),n-=s,r--,tt(c)}}return _o(e,o)}var pd=30;var dd=50;function ui(e,t,n,r){let o={filename:e,function:t==="<anonymous>"?Ne:t,in_app:!0};return n!==void 0&&(o.lineno=n),r!==void 0&&(o.colno=r),o}var fd=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,md=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ld=/\((\S*)(?::(\d+))(?::(\d+))\)/,gd=e=>{let t=fd.exec(e);if(t){let[,r,o,i]=t;return ui(r,Ne,+o,+i)}let n=md.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){let s=ld.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}let[o,i]=wa(n[1]||Ne,n[2]);return ui(i,o,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},_d=[pd,gd],Sd=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,hd=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Ed=e=>{let t=Sd.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let i=hd.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],o=t[1]||Ne;return[o,r]=wa(o,r),ui(r,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Td=[dd,Ed];var Id=[_d,Td],Pa=En(...Id),wa=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Ne,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};var B=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Er=1024,yd="Breadcrumbs",bd=(e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:yd,setup(n){t.console&&Ro(vd(n)),t.dom&&oi(Ad(n,t.dom)),t.xhr&&gn(Nd(n)),t.fetch&&sn(xd(n)),t.history&&bt(Cd(n)),t.sentry&&n.on("beforeSendEvent",Rd(n))}}},ka=bd;function Rd(e){return function(n){E()===e&&Ye({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Ce(n)},{event:n})}}function Ad(e,t){return function(r){if(E()!==e)return;let o,i,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Er&&(B&&O.warn(`\`dom.maxStringLength\` cannot exceed ${Er}, but a value of ${a} was configured. Sentry will use ${Er} instead.`),a=Er),typeof s=="string"&&(s=[s]);try{let u=r.event,p=Od(u)?u.target:u;o=Y(p,{keyAttrs:s,maxStringLength:a}),i=Yt(p)}catch{o="<unknown>"}if(o.length===0)return;let c={category:`ui.${r.name}`,message:o};i&&(c.data={"ui.component_name":i}),Ye(c,{event:r.event,name:r.name,global:r.global})}}function vd(e){return function(n){if(E()!==e)return;let r={category:"console",data:{arguments:n.args,logger:"console"},level:Ao(n.level),message:An(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${An(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Ye(r,{input:n.args,level:n.level})}}function Nd(e){return function(n){if(E()!==e)return;let{startTimestamp:r,endTimestamp:o}=n,i=n.xhr[Ve];if(!r||!o||!i)return;let{method:s,url:a,status_code:c,body:u}=i,p={method:s,url:a,status_code:c},d={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:o},f={category:"xhr",data:p,type:"http",level:Qn(c)};e.emit("beforeOutgoingRequestBreadcrumb",f,d),Ye(f,d)}}function xd(e){return function(n){if(E()!==e)return;let{startTimestamp:r,endTimestamp:o}=n;if(o&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){let i=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:o},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,s),Ye(a,s)}else{let i=n.response,s={...n.fetchData,status_code:i?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i?.status;let a={input:n.args,response:i,startTimestamp:r,endTimestamp:o},c={category:"fetch",data:s,type:"http",level:Qn(s.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),Ye(c,a)}}}function Cd(e){return function(n){if(E()!==e)return;let r=n.from,o=n.to,i=Ae(y.location.href),s=r?Ae(r):void 0,a=Ae(o);s?.path||(s=i),i.protocol===a.protocol&&i.host===a.host&&(o=a.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),Ye({category:"navigation",data:{from:r,to:o}})}}function Od(e){return!!e&&!!e.target}var Ld=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Pd="BrowserApiErrors",wd=(e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:Pd,setupOnce(){t.setTimeout&&U(y,"setTimeout",Ma),t.setInterval&&U(y,"setInterval",Ma),t.requestAnimationFrame&&U(y,"requestAnimationFrame",kd),t.XMLHttpRequest&&"XMLHttpRequest"in y&&U(XMLHttpRequest.prototype,"send",Md);let n=t.eventTarget;n&&(Array.isArray(n)?n:Ld).forEach(o=>Dd(o,t))}}},Da=wd;function Ma(e){return function(...t){let n=t[0];return t[0]=It(n,{mechanism:{data:{function:te(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function kd(e){return function(t){return e.apply(this,[It(t,{mechanism:{data:{function:"requestAnimationFrame",handler:te(e)},handled:!1,type:"instrument"}})])}}function Md(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in n&&typeof n[o]=="function"&&U(n,o,function(i){let s={mechanism:{data:{function:o,handler:te(i)},handled:!1,type:"instrument"}},a=lt(i);return a&&(s.mechanism.data.handler=te(a)),It(i,s)})}),e.apply(this,t)}}function Dd(e,t){let r=y[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(U(r,"addEventListener",function(o){return function(i,s,a){try{Ud(s)&&(s.handleEvent=It(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:te(s),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&Fd(this,i,s),o.apply(this,[i,It(s,{mechanism:{data:{function:"addEventListener",handler:te(s),target:e},handled:!1,type:"instrument"}}),a])}}),U(r,"removeEventListener",function(o){return function(i,s,a){try{let c=s.__sentry_wrapped__;c&&o.call(this,i,c,a)}catch{}return o.call(this,i,s,a)}}))}function Ud(e){return typeof e.handleEvent=="function"}function Fd(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}var Ua=()=>({name:"BrowserSession",setupOnce(){if(typeof y.document>"u"){B&&O.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}qn({ignoreDuration:!0}),Vn(),bt(({from:e,to:t})=>{e!==void 0&&e!==t&&(qn({ignoreDuration:!0}),Vn())})}});var Bd="GlobalHandlers",Hd=(e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:Bd,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&($d(n),Fa("onerror")),t.onunhandledrejection&&(Gd(n),Fa("onunhandledrejection"))}}},Ba=Hd;function $d(e){Gt(t=>{let{stackParser:n,attachStacktrace:r}=Ha();if(E()!==e||Do())return;let{msg:o,url:i,line:s,column:a,error:c}=t,u=Yd(tr(n,c||o,void 0,r,!1),i,s,a);u.level="error",Yn(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function Gd(e){Wt(t=>{let{stackParser:n,attachStacktrace:r}=Ha();if(E()!==e||Do())return;let o=Wd(t),i=xe(o)?jd(o):tr(n,o,void 0,r,!0);i.level="error",Yn(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function Wd(e){if(xe(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function jd(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function Yd(e,t,n,r){let o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=r,p=n,d=Z(t)&&t.length>0?t:Ie();return c.length===0&&c.push({colno:u,filename:d,function:Ne,in_app:!0,lineno:p}),e}function Fa(e){B&&O.log(`Global Handler attached: ${e}`)}function Ha(){return E()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var $a=()=>({name:"HttpContext",preprocessEvent(e){if(!y.navigator&&!y.location&&!y.document)return;let t=cn(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}});var qd="cause",Vd=5,zd="LinkedErrors",Jd=(e={})=>{let t=e.limit||Vd,n=e.key||qd;return{name:zd,preprocessEvent(r,o,i){let s=i.getOptions();bo(er,s.stackParser,n,t,r,o)}}},Ga=Jd;function Wa(){return Kd()?(B&&pe(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function Kd(){if(typeof y.window>"u")return!1;let e=y;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;let n=Ie(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(y===y.top&&r.some(i=>n.startsWith(`${i}://`)))}function ja(e){return[Io(),To(),Da(),ka(),Ba(),Ga(),vo(),$a(),Ua()]}function pi(e={}){let t=!e.skipBrowserExtensionCheck&&Wa(),n={...e,enabled:t?!1:e.enabled,stackParser:Nr(e.stackParser||Pa),integrations:co({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?ja():e.defaultIntegrations}),transport:e.transport||La};return lo(nr,n)}function Ue(e=0){return((M()||performance.timeOrigin)+e)/1e3}function Ya(e){let t=[];if(e.nextHopProtocol!=null){let{name:n,version:r}=ln(e.nextHopProtocol);t.push(["network.protocol.version",r],["network.protocol.name",n])}return M()?[...t,["http.request.redirect_start",Ue(e.redirectStart)],["http.request.fetch_start",Ue(e.fetchStart)],["http.request.domain_lookup_start",Ue(e.domainLookupStart)],["http.request.domain_lookup_end",Ue(e.domainLookupEnd)],["http.request.connect_start",Ue(e.connectStart)],["http.request.secure_connection_start",Ue(e.secureConnectionStart)],["http.request.connection_end",Ue(e.connectEnd)],["http.request.request_start",Ue(e.requestStart)],["http.request.response_start",Ue(e.responseStart)],["http.request.response_end",Ue(e.responseEnd)]]:t}var qa=new WeakMap,di=new Map,fi={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function za(e,t){let{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:o,shouldCreateSpanForRequest:i,enableHTTPTimings:s,tracePropagationTargets:a,onRequestSpanStart:c}={...fi,...t},u=typeof i=="function"?i:f=>!0,p=f=>Zd(f,a),d={};n&&(e.addEventProcessor(f=>(f.type==="transaction"&&f.spans&&f.spans.forEach(m=>{if(m.op==="http.client"){let T=di.get(m.span_id);T&&(m.timestamp=T/1e3,di.delete(m.span_id))}}),f)),o&&wo(f=>{if(f.response){let m=qa.get(f.response);m&&f.endTimestamp&&di.set(m,f.endTimestamp)}}),sn(f=>{let m=Co(f,u,p,d);if(f.response&&f.fetchData.__span&&qa.set(f.response,f.fetchData.__span),m){let T=Ja(f.fetchData.url),b=T?Ae(T).host:void 0;m.setAttributes({"http.url":T,"server.address":b}),s&&Va(m),c?.(m,{headers:f.headers})}})),r&&gn(f=>{let m=Qd(f,u,p,d);if(m){s&&Va(m);let T;try{T=new Headers(f.xhr.__sentry_xhr_v3__?.request_headers)}catch{}c?.(m,{headers:T})}})}function Xd(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Va(e){let{url:t}=h(e).data;if(!t||typeof t!="string")return;let n=ve("resource",({entries:r})=>{r.forEach(o=>{Xd(o)&&o.name.endsWith(t)&&(Ya(o).forEach(s=>e.setAttribute(...s)),setTimeout(n))})})}function Zd(e,t){let n=Ie();if(n){let r,o;try{r=new URL(e,n),o=new URL(n).origin}catch{return!1}let i=r.origin===o;return t?de(r.toString(),t)||i&&de(r.pathname,t):i}else{let r=!!e.match(/^\/(?!\/)/);return t?de(e,t):r}}function Qd(e,t,n,r){let o=e.xhr,i=o?.[Ve];if(!o||o.__sentry_own_request__||!i)return;let{url:s,method:a}=i,c=Q()&&t(s);if(e.endTimestamp&&c){let b=o.__sentry_xhr_span_id__;if(!b)return;let w=r[b];w&&i.status_code!==void 0&&(zt(w,i.status_code),w.end(),delete r[b]);return}let u=Ja(s),p=u?Ae(u):Ae(s),d=xo(s),f=!!C(),m=c&&f?ge({name:`${a} ${d}`,attributes:{url:s,type:"xhr","http.method":a,"http.url":u,"server.address":p?.host,[R]:"auto.http.browser",[W]:"http.client",...p?.search&&{"http.query":p?.search},...p?.hash&&{"http.fragment":p?.hash}}}):new ee;o.__sentry_xhr_span_id__=m.spanContext().spanId,r[o.__sentry_xhr_span_id__]=m,n(s)&&ef(o,Q()&&f?m:void 0);let T=E();return T&&T.emit("beforeOutgoingRequestSpan",m,e),m}function ef(e,t){let{"sentry-trace":n,baggage:r}=tn({span:t});n&&tf(e,n,r)}function tf(e,t,n){let r=e.__sentry_xhr_v3__?.request_headers;if(!r?.["sentry-trace"])try{if(e.setRequestHeader("sentry-trace",t),n){let o=r?.baggage;(!o||!nf(o))&&e.setRequestHeader("baggage",n)}}catch{}}function nf(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function Ja(e){try{return new URL(e,y.location.origin).href}catch{return}}function Ka(){y.document?y.document.addEventListener("visibilitychange",()=>{let e=C();if(!e)return;let t=N(e);if(y.document.hidden&&t){let n="cancelled",{op:r,status:o}=h(t);B&&O.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),o||t.setStatus({code:2,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):B&&O.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var rf=3600,Xa="sentry_previous_trace",of="sentry.previous_trace";function Za(e,{linkPreviousTrace:t,consistentTraceSampling:n}){let r=t==="session-storage",o=r?cf():void 0;e.on("spanStart",s=>{if(N(s)!==s)return;let a=I().getPropagationContext();o=sf(o,s,a),r&&af(o)});let i=!0;n&&e.on("beforeSampling",s=>{if(!o)return;let a=I(),c=a.getPropagationContext();if(i&&c.parentSpanId){i=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(o.sampleRate),sampled:String(mi(o.spanContext))},sampleRand:o.sampleRand}),s.parentSampled=mi(o.spanContext),s.parentSampleRate=o.sampleRate,s.spanAttributes={...s.spanAttributes,[qt]:o.sampleRate}})}function sf(e,t,n){let r=h(t);function o(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[_t])}catch{return 0}}let i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:o(),sampleRand:n.sampleRand};if(!e)return i;let s=e.spanContext;return s.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=rf&&(B&&O.info(`Adding previous_trace ${s} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:s,attributes:{[$r]:"previous_trace"}}),t.setAttribute(of,`${s.traceId}-${s.spanId}-${mi(s)?1:0}`)),i)}function af(e){try{y.sessionStorage.setItem(Xa,JSON.stringify(e))}catch(t){B&&O.warn("Could not store previous trace in sessionStorage",t)}}function cf(){try{let e=y.sessionStorage?.getItem(Xa);return JSON.parse(e)}catch{return}}function mi(e){return e.traceFlags===1}var uf="BrowserTracing",pf={...Mt,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...fi},li=(e={})=>{let t={name:void 0,source:void 0},n=y.document,{enableInp:r,enableElementTiming:o,enableLongTask:i,enableLongAnimationFrame:s,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:p,idleTimeout:d,finalTimeout:f,childSpanTimeout:m,markBackgroundSpan:T,traceFetch:b,traceXHR:w,trackFetchStreamPerformance:Fe,shouldCreateSpanForRequest:st,enableHTTPTimings:Tr,ignoreResourceSpans:Ir,ignorePerformanceApiSpans:Sn,instrumentPageLoad:v,instrumentNavigation:z,detectRedirects:Rt,linkPreviousTrace:Bt,consistentTraceSampling:At,onRequestSpanStart:at}={...pf,...e},H,ct;function ze(P,$,x=!0){let G=$.op==="pageload",J=p?p($):$,Je=J.attributes||{};if($.name!==J.name&&(Je[q]="custom",J.attributes=Je),!x){let $t=ae();ge({...J,startTime:$t}).end($t);return}t.name=J.name,t.source=Je[q];let Ke=Hn(J,{idleTimeout:d,finalTimeout:f,childSpanTimeout:m,disableAutoFinish:G,beforeSpanEnd:$t=>{H?.(),ei($t,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:Ir,ignorePerformanceApiSpans:Sn}),ec(P,void 0);let _i=I(),ic=_i.getPropagationContext();_i.setPropagationContext({...ic,traceId:Ke.spanContext().traceId,sampled:me(Ke),dsc:V($t)})}});ec(P,Ke);function Ht(){n&&["interactive","complete"].includes(n.readyState)&&P.emit("idleSpanEnableAutoFinish",Ke)}G&&n&&(n.addEventListener("readystatechange",()=>{Ht()}),Ht())}return{name:uf,setup(P){if(Vr(),H=Ko({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1}),r&&ai(),o&&ti(),s&&S.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Zo():i&&Xo(),a&&Qo(),Rt&&n){let x=()=>{ct=L()};addEventListener("click",x,{capture:!0}),addEventListener("keydown",x,{capture:!0,passive:!0})}function $(){let x=_n(P);x&&!h(x).timestamp&&(B&&O.log(`[Tracing] Finishing current active span with op: ${h(x).op}`),x.setAttribute(St,"cancelled"),x.end())}P.on("startNavigationSpan",(x,G)=>{if(E()!==P)return;if(G?.isRedirect){B&&O.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),ze(P,{op:"navigation.redirect",...x},!1);return}$(),ue().setPropagationContext({traceId:ne(),sampleRand:Math.random()});let J=I();J.setPropagationContext({traceId:ne(),sampleRand:Math.random()}),J.setSDKProcessingMetadata({normalizedRequest:void 0}),ze(P,{op:"navigation",...x})}),P.on("startPageLoadSpan",(x,G={})=>{if(E()!==P)return;$();let J=G.sentryTrace||Qa("sentry-trace"),Je=G.baggage||Qa("baggage"),Ke=Wr(J,Je),Ht=I();Ht.setPropagationContext(Ke),Ht.setSDKProcessingMetadata({normalizedRequest:cn()}),ze(P,{op:"pageload",...x})})},afterAllSetup(P){let $=Ie();if(Bt!=="off"&&Za(P,{linkPreviousTrace:Bt,consistentTraceSampling:At}),y.location){if(v){let x=M();nc(P,{name:y.location.pathname,startTime:x?x/1e3:void 0,attributes:{[q]:"url",[R]:"auto.pageload.browser"}})}z&&bt(({to:x,from:G})=>{if(G===void 0&&$?.indexOf(x)!==-1){$=void 0;return}$=void 0;let J=nn(x),Je=_n(P),Ke=Je&&Rt&&ff(Je,ct);rc(P,{name:J?.pathname||y.location.pathname,attributes:{[q]:"url",[R]:"auto.navigation.browser"}},{url:x,isRedirect:Ke})})}T&&Ka(),a&&df(P,d,f,m,t),r&&ci(),za(P,{traceFetch:b,traceXHR:w,trackFetchStreamPerformance:Fe,tracePropagationTargets:P.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:st,enableHTTPTimings:Tr,onRequestSpanStart:at})}}};function nc(e,t,n){return e.emit("startPageLoadSpan",t,n),I().setTransactionName(t.name),_n(e)}function rc(e,t,n){let{url:r,isRedirect:o}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:o}),e.emit("startNavigationSpan",t,{isRedirect:o});let i=I();return i.setTransactionName(t.name),r&&!o&&i.setSDKProcessingMetadata({normalizedRequest:{...cn(),url:r}}),_n(e)}function Qa(e){return y.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function df(e,t,n,r,o){let i=y.document,s,a=()=>{let c="ui.action.click",u=_n(e);if(u){let p=h(u).op;if(["navigation","pageload"].includes(p)){B&&O.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(St,"interactionInterrupted"),s.end(),s=void 0),!o.name){B&&O.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}s=Hn({name:o.name,op:c,attributes:{[q]:o.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",a,{capture:!0})}var oc="_sentry_idleSpan";function _n(e){return e[oc]}function ec(e,t){k(e,oc,t)}var tc=.3;function ff(e,t){let n=h(e),r=ae(),o=n.start_timestamp;return!(r-o>tc||t&&r-t<=tc)}var gi=class{init(){Si.get(window.location.origin+"/api/sentry").then(t=>{let{dsn:n,env:r,release:o}=t;if(!n||n.trim()==="")return;let i={dsn:n,integrations:[li()],tracesSampleRate:.3};r&&r.trim()!==""&&(i.environment=r),o&&o.trim()!==""&&(i.release=o),pi(i)}).catch(t=>{console.error("Sentry monitoring service error:",t)})}},lf=new gi;lf.init();})();
